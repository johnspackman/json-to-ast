{"version":3,"sources":["error.js"],"names":["FRAGMENT_MAX_LENGTH","FRAGMENT_OVERFLOW_SYMBOLS","showCodeFragment","source","linePosition","columnPosition","lines","split","line","marker","Array","join","ParseError","message","fullMessage","rawMessage","SyntaxError","column"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,KAAMA,sBAAsB,EAA5B;AACA,KAAMC,4BAA4B,GAAlC;;AAEA,UAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,YAAlC,EAAgDC,cAAhD,EAAgE;AAC/D,MAAMC,QAAQH,OAAOI,KAAP,CAAa,aAAb,CAAd;AACA,MAAMC,OAAOF,MAAMF,eAAe,CAArB,CAAb;AACA,MAAMK,SAAS,IAAIC,KAAJ,CAAUL,cAAV,EAA0BM,IAA1B,CAA+B,GAA/B,IAAsC,GAArD;;AAEA,SAAOH,OAAO,IAAP,GAAcC,MAArB;AACA;;KAEKG,U;;;AACL,sBAAYC,OAAZ,EAAqBV,MAArB,EAA6BC,YAA7B,EAA2CC,cAA3C,EAA2D;AAAA;;AAC1D,OAAMS,cAAcV,eACjBS,UAAU,IAAV,GAAiBX,iBAAiBC,MAAjB,EAAyBC,YAAzB,EAAuCC,cAAvC,CADA,GAEjBQ,OAFH;;AAD0D,uHAIpDC,WAJoD;;AAK1D,SAAKC,UAAL,GAAkBF,OAAlB;AAL0D;AAM1D;;;GAPuBG,W;;mBAUV,UAACH,OAAD,EAAUV,MAAV,EAAkBK,IAAlB,EAAwBS,MAAxB,EAAmC;AACjD,QAAM,IAAIL,UAAJ,CAAeC,OAAf,EAAwBV,MAAxB,EAAgCK,IAAhC,EAAsCS,MAAtC,CAAN;AACA,E","file":"error.js","sourcesContent":["const FRAGMENT_MAX_LENGTH = 20;\nconst FRAGMENT_OVERFLOW_SYMBOLS = 'â€¦';\n\nfunction showCodeFragment(source, linePosition, columnPosition) {\n\tconst lines = source.split(/\\n|\\r\\n?|\\f/);\n\tconst line = lines[linePosition - 1];\n\tconst marker = new Array(columnPosition).join(' ') + '^';\n\n\treturn line + '\\n' + marker;\n}\n\nclass ParseError extends SyntaxError {\n\tconstructor(message, source, linePosition, columnPosition) {\n\t\tconst fullMessage = linePosition\n\t\t\t? message + '\\n' + showCodeFragment(source, linePosition, columnPosition)\n\t\t\t: message;\n\t\tsuper(fullMessage);\n\t\tthis.rawMessage = message;\n\t}\n}\n\nexport default (message, source, line, column) => {\n\tthrow new ParseError(message, source, line, column);\n}\n"]}